<html> 
<head> 
<title>Employee Form</title> 
</head> 
<body> 
<h2>Employee Details Form</h2> 
<form action="" method="post"> 
<label for="eid">Employee ID:</label> 
<input type="text" id="eid" name="eid" required><br><br> 
<label for="Firstname">First Name:</label> 
<input type="text" id="Firstname" name="Firstname"><br><br> 
<label for="Lastname">Last Name:</label> 
<input type="text" id="Lastname" name="Lastname"><br><br> 
<label for="Salary">Salary:</label> 
<input type="text" id="Salary" name="Salary"><br><br> 
<input type="submit" name="action" value="Add Details"> 
<input type="submit" name="action" value="Modify Details"> 
<input type="submit" name="action" value="Delete Records"> 
<input type="submit" name="action" value="Display Records"> 
</form> 
<hr> 
<?php 
if ($_SERVER['REQUEST_METHOD'] == 'POST') { 
$action = $_POST['action']; 
$conn = mysqli_connect('127.0.0.1', 'root', '12345', 'employeedb1', 3307); 
if (!$conn) { 
die("Connection failed: " . mysqli_connect_error()); 
} 
$empID = isset($_POST['eid']) ? mysqli_real_escape_string($conn, $_POST['eid']) : ''; 
$fname = isset($_POST['Firstname']) ? mysqli_real_escape_string($conn, $_POST['Firstname']) : ''; 
$lname = isset($_POST['Lastname']) ? mysqli_real_escape_string($conn, $_POST['Lastname']) : ''; 
$salary = isset($_POST['Salary']) ? mysqli_real_escape_string($conn, $_POST['Salary']) : ''; 
// Add 
if ($action == 'Add Details') { 
if (!empty($empID) && !empty($fname) && !empty($lname) && !empty($salary)) { 
            $sql = "INSERT INTO empdetails (eid, firstname, lastname, salary)  
                    VALUES ('$empID', '$fname', '$lname', '$salary')"; 
            if (mysqli_query($conn, $sql)) { 
                echo "<p style='color:green;'>Data Inserted Successfully</p>"; 
            } else { 
                echo "Error inserting data: " . mysqli_error($conn); 
            } 
        } else { 
            echo "<p style='color:red;'>All fields are required for adding details.</p>"; 
        } 
    } 
 
    // Modify 
    elseif ($action == 'Modify Details') { 
        if (!empty($empID)) { 
            $sql = "UPDATE empdetails SET firstname='$fname', lastname='$lname', salary='$salary' WHERE 
eid='$empID'"; 
            if (mysqli_query($conn, $sql)) { 
                if (mysqli_affected_rows($conn) > 0) { 
                    echo "<p style='color:green;'>Record Updated Successfully</p>"; 
                } else { 
                    echo "<p style='color:orange;'>No matching record found to update.</p>"; 
                } 
            } else { 
                echo "Error updating record: " . mysqli_error($conn); 
            } 
        } else { 
            echo "<p style='color:red;'>Employee ID is required for modifying details.</p>"; 
        } 
    } 
 
    // Delete 
    elseif ($action == 'Delete Records') { 
        if (!empty($empID)) { 
            $sql = "DELETE FROM empdetails WHERE eid='$empID'"; 
            if (mysqli_query($conn, $sql)) { 
                if (mysqli_affected_rows($conn) > 0) { 
                    echo "<p style='color:green;'>Record Deleted Successfully</p>"; 
                } else { 
                    echo "<p style='color:orange;'>No matching record found to delete.</p>"; 
                } 
            } else { 
                echo "Error deleting record: " . mysqli_error($conn); 
            } 
        } else { 
            echo "<p style='color:red;'>Employee ID is required for deleting records.</p>"; 
        } 
    } 
 
    // Display 
    elseif ($action == 'Display Records') { 
        $sql = "SELECT * FROM empdetails"; 
        $result = mysqli_query($conn, $sql); 
 
if (mysqli_num_rows($result) > 0) { 
echo "<table border='1' cellpadding='5' cellspacing='0'> 
<tr> 
<th>Employee ID</th> 
<th>First Name</th> 
<th>Last Name</th> 
<th>Salary</th> 
</tr>"; 
while ($row = mysqli_fetch_assoc($result)) { 
echo "<tr> 
<td>".$row['eid']."</td> 
<td>".$row['firstname']."</td> 
<td>".$row['lastname']."</td> 
<td>".$row['salary']."</td> 
</tr>"; 
} 
echo "</table>"; 
} else { 
echo "<p>No records found.</p>"; 
} 
} 
mysqli_close($conn); 
} 
?> 
</body> 
</html>